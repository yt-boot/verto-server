本文统一采用 verto_ 前缀的表命名规范（目标设计），并与当前数据库脚本 verto-server/db/verto.sql、迁移脚本 db/migrations 对齐字段与约束说明。
如需将现有非 verto_ 前缀的实际表重命名，我可提供迁移脚本（RENAME TABLE）与验证脚本。

一、应用管理相关（verto_ 前缀）
- verto_application（应用管理表，原 app_manage）
  - id：主键ID
  - app_name：应用名称
  - app_description：应用描述
  - git_url：Git 仓库地址
  - domain：应用领域/分类
  - managers：管理员（关联 verto_staff，多选关系；推荐使用中间表 verto_application_staff_manager 维护）
  - extra_info：应用附加信息（JSON：技术栈、备注等）
  - status：状态（0:禁用, 1:启用）
  - create_by：创建人
  - create_time：创建时间
  - update_by：更新人
  - update_time：更新时间

新增：verto_application_staff_manager（应用管理员关系表）
  - id：主键ID
  - application_id：应用ID（FK → verto_application.id）
  - staff_id：人员ID（FK → verto_staff.id）
  - role：角色（manager，可扩展为 owner/maintainer 等）
  - created_at：创建时间
  - 索引与约束：UNIQUE(application_id, staff_id)

（计划删除）verto_app_git_repo_info：前端不再展示 Git 仓库详细信息，本表将移除。

- verto_app_pipeline_binding（应用流水线绑定，原 app_pipeline_binding）
  - id：主键ID
  - app_id：应用ID
  - environment：环境（如 dev/test/prod）
  - job_name：流水线作业名称
  - job_url：作业地址
  - status：状态（enabled/disabled）
  - create_by：创建人
  - create_time：创建时间
  - update_by：更新人
  - update_time：更新时间

（计划删除）verto_app_config / verto_app_config_content / verto_app_config_relation：不再保留应用配置三表。

二、项目与流水线（verto_ 前缀）
- verto_project（项目管理表，原 project）
  - id：主键ID
  - project_type：项目类型（requirement:需求, bug:缺陷）
  - project_id：缺陷ID
  - title：项目标题
  - description：项目描述
  - related_app_id：关联应用ID
  - related_app_name：关联应用名称
  - 开发者关系：多对多，使用 verto_project_staff_relation 维护
  - status：状态（planning/developing/testing/released）
  - create_by：创建人
  - create_time：创建时间
  - update_by：更新人
  - update_time：更新时间

新增：verto_project_staff_relation（项目人员关系表）
  - id：主键ID
  - project_id：项目ID（FK → verto_project.id）
  - staff_id：人员ID（FK → verto_staff.id）
  - role：角色（developer/tester/pm 等）
  - created_at：创建时间
  - 索引与约束：UNIQUE(project_id, staff_id, role)

- verto_project_pipeline（项目流水线表，原 project_pipeline）
  - id：主键ID
  - project_id：项目ID（关联 verto_project.id）
  - pipeline_id：流水线ID（FK → verto_pipeline.id）
  - pipeline_name：流水线名称
  - pipeline_type：流水线类型（build/deploy/test）
  - status：状态（pending/running/success/failed）
  - start_time：开始时间
  - end_time：结束时间
  - duration：执行时长（秒）
  - build_number：构建编号
  - git_commit：Git 提交哈希
  - git_branch：Git 分支
  - environment：环境（dev/test/prod）
  - logs：执行日志
  - create_by：创建人
  - create_time：创建时间
  - update_by：更新人
  - update_time：更新时间

新增：verto_pipeline（流水线定义表，绑定应用，多对一）
  - id：主键ID
  - application_id：应用ID（FK → verto_application.id）
  - pipeline_name：流水线名称
  - pipeline_type：流水线类型（build/deploy/test）
  - environment：环境（dev/test/prod）
  - status：状态（enabled/disabled，用于是否可触发）
  - description：说明
  - config：流水线配置（JSON）
  - create_by：创建人
  - create_time：创建时间
  - update_by：更新人
  - update_time：更新时间

三、人员管理（verto_ 前缀）
- verto_staff（人员管理表，原 staff）
  - id：主键ID
  - name：姓名
  - employee_no：员工编号（唯一）
  - email：邮箱（唯一）
  - hire_date：入职日期
  - work_location：工作地点
  - skills：技能列表（JSON 数组）
  - status：状态（0:离职, 1:在职, 2:休假）
  - remark：备注
  - create_by：创建人
  - create_time：创建时间
  - update_by：更新人
  - update_time：更新时间

四、物料模板（verto_ 前缀）

- verto_material_template（物料模板表，原 material_template）
  - id：主键ID
  - template_name：模板名称
  - template_code：模板编码
  - template_type：模板类型（page/component/project）
  - description：模板描述
  - author：作者（关联 verto_staff 的开发者）
  - tags：标签（JSON 数组）
  - source_code：git源码
  - status：状态（0:禁用,1:启用）
  - create_by：创建人
  - create_time：创建时间
  - update_by：更新人
  - update_time：更新时间
  - 说明：目前没有“模板与应用”的关联表（旧文档 verto_template_application_relation 为概念占位），后续如需可新增。

新增：verto_application_template_relation（应用与模板对应表，一一对应）
  - id：主键ID
  - application_id：应用ID（FK → verto_application.id）
  - template_id：模板ID（FK → verto_material_template.id）
  - created_at：创建时间
  - 约束：UNIQUE(application_id)，UNIQUE(template_id)

五、OAuth 集成相关（verto_ 前缀）
- verto_oauth_user（第三方 OAuth 用户表，原 oauth_user）
  - id：主键ID（雪花）
  - platform：平台标识（github/gitlab 等）
  - oauth_user_id：第三方用户唯一ID
  - login：第三方登录名（如 GitHub login）
  - name：显示名称
  - avatar_url：头像地址
  - email：邮箱
  - bound_at：绑定时间
  - created_at：创建时间
  - updated_at：更新时间
  - last_token_id：最近一次关联的令牌ID（FK -> verto_oauth_token.id，删除令牌时置空）

- verto_oauth_token（第三方 OAuth 访问令牌表，原 oauth_token）
  - id：主键ID（雪花）
  - platform：平台标识（github/gitlab 等）
  - oauth_user_id：第三方用户唯一ID
  - access_token：访问令牌
  - token_type：令牌类型（默认 Bearer）
  - scope：权限范围
  - created_at：创建时间
  - expires_at：过期时间（如有）

- verto_oauth_binding（系统用户与第三方 OAuth 用户绑定关系表，原 oauth_binding）
  - id：主键ID（雪花）
  - system_user_id：系统用户ID
  - platform：平台标识（github/gitlab 等）
  - oauth_user_id：第三方用户唯一ID（复合外键）
  - created_at：绑定时间
  - updated_at：更新时间
  - 约束：
    - 唯一约束 uk_user_platform（同一系统用户在同一平台仅能绑定一个账号）
    - 外键 fk_binding_oauth_user（platform, oauth_user_id）→ verto_oauth_user(platform, oauth_user_id)，级联删除/更新

六、积分体系（verto_ 前缀）
- verto_points_log（员工积分流水表，原 staff_points_log）
  - id：主键ID
  - staff_id：员工ID（关联 verto_staff.id）
  - event_type：事件类型
  - source_type：来源类型（APP/PROJECT/COMPONENT/OTHER）
  - source_id：来源ID
  - source_name：来源名称
  - delta：积分变动（支持负数）
  - remark：备注
  - create_time：创建时间

- verto_points_rule（员工积分规则表（扩展），原 staff_points_rule）
  - id：主键ID
  - event_code：事件编码（APP_CREATE/PROJECT_JOIN/PIPELINE_SUCCESS 等）
  - source_type：来源类型（APP/PROJECT/COMPONENT/OTHER）
  - match_source_id：匹配的来源ID（为空表示所有来源）
  - delta：积分变动（支持负数）
  - limit_per_day：每日上限（同事件同人）
  - first_time_only：是否仅首次触发有效（0/1）
  - condition_expr：条件表达式（JSON）
  - enabled：是否启用（0/1）
  - effective_time/expire_time：生效/失效时间
  - remark：规则备注
  - create_time/update_time：创建/更新时间

- verto_points_balance（员工积分余额汇总（扩展），原 staff_points_balance）
  - staff_id：员工ID（主键）
  - total_points：当前总积分
  - update_time：更新时间

- verto_points_dedup（积分事件防重幂等（扩展），原 staff_points_dedup）
  - dedup_key：幂等键（如 staffId+eventCode+sourceId+日期）主键
  - staff_id：员工ID
  - event_code：事件编码
  - source_type/source_id：来源类型与ID
  - create_time：创建时间

七、索引与外键摘要（统一使用 verto_ 前缀）
- verto_oauth_user：PRIMARY(id)，UNIQUE(platform, oauth_user_id)，FK(last_token_id → verto_oauth_token.id)
- verto_oauth_binding：PRIMARY(id)，UNIQUE(system_user_id, platform)，FK((platform, oauth_user_id) → verto_oauth_user(platform, oauth_user_id))
- verto_points_log：PRIMARY(id)，索引：staff_id、event_type、source_type、create_time
- 其他表索引按原表定义继承，无需更名（索引名在 MySQL 中不强制与表名前缀关联）

新增/调整：
- verto_application_staff_manager：UNIQUE(application_id, staff_id)，FK(application_id → verto_application.id)，FK(staff_id → verto_staff.id)
- verto_project_staff_relation：UNIQUE(project_id, staff_id, role)
- verto_pipeline：FK(application_id → verto_application.id)
- verto_project_pipeline：FK(project_id → verto_project.id)，FK(pipeline_id → verto_pipeline.id)
- verto_application_template_relation：UNIQUE(application_id)，UNIQUE(template_id)，FK(application_id → verto_application.id)，FK(template_id → verto_material_template.id)

附：现有表名与目标 verto_ 前缀表名的对应说明（便于迁移）
- app_manage → verto_application
- app_git_repo_info → verto_app_git_repo_info
- app_pipeline_binding → verto_app_pipeline_binding
- app_config → verto_app_config
- app_config_content → verto_app_config_content
- app_config_relation → verto_app_config_relation
- project → verto_project
- project_pipeline → verto_project_pipeline
- staff → verto_staff
- material_component → verto_material_component
 - material_component → （暂时删除，不保留）
- material_template → verto_material_template
- oauth_user → verto_oauth_user
- oauth_token → verto_oauth_token
- oauth_binding → verto_oauth_binding
- staff_points_log → verto_points_log
- staff_points_rule → verto_points_rule
- staff_points_balance → verto_points_balance
- staff_points_dedup → verto_points_dedup
- （如需新增）template 与 application 的关系表：verto_template_application_relation（尚未实现）
 - 新增（已实现）：verto_application_template_relation（应用与模板一一对应）

迁移建议（如需要我生成脚本，请确认）：
- 使用 RENAME TABLE 将现有表批量更名为 verto_ 前缀，确保在同一库内执行；对于包含外键的表（如 OAuth 相关），RENAME 通常会保留约束并自动更新引用；若跨库或出现异常，可按“先 DROP 外键→RENAME→再 ADD 外键”的顺序处理。
- 迁移前务必备份数据，并在测试环境验证：
  1) 检查 SHOW CREATE TABLE 与 information_schema 约束是否仍然正确；
  2) 运行读写功能回归；
  3) 若你使用 ORM（如 MyBatis/JPA），同步更新实体/Mapper 的表名。

如需，我可以立即生成“批量更名 + 迁移后验证”的 SQL 脚本并提交到 db/migrations 目录。